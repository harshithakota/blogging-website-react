(this.webpackJsonpfsd=this.webpackJsonpfsd||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(21),i=n.n(s),r=n(3),o=n(2),l=(n(42),n(11)),d=n(5),j=(n(43),n(10)),b=n.n(j),u=b.a.create({baseURL:"http://localhost:9002",headers:{"Content-type":"application/json"}}),h={getAll:function(){return u.get("/bloglist")},get:function(e){return u.get("/blogdetail/".concat(e))},create:function(e){return u.post("/blogs",e)},update:function(e,t){return u.put("/blogs/".concat(e),t)},remove:function(e){return u.delete("/blogs/".concat(e))},removeAll:function(){return u.delete("/blogs")},findByTitle:function(e){return u.get("/blogs?title=".concat(e))},gettag:function(e){return u.get("/searchtag/".concat(e))}},m=n(4),O=n(34),p=n.n(O),g=n(0);var v=function(e){var t=e.data,n=t._id,c=t.title,a=t.author,s=(t.tag,t.description),i=t.created_at;return Object(g.jsx)("div",{className:"list-group",children:Object(g.jsxs)("div",{class:"card",children:[Object(g.jsxs)("h5",{class:"card-header",children:["Written by ",null===a||void 0===a?void 0:a.name]}),Object(g.jsxs)("div",{class:"card-body",children:[Object(g.jsx)("h5",{class:"card-title",children:c}),Object(g.jsx)("p",{class:"card-text",children:s.length<80?s:s.substring(0,80)+".."}),Object(g.jsx)("div",{className:"blog-date",style:{paddingBottom:"20px"},children:p()(i).format("MMMM Do YYYY")}),Object(g.jsx)(m.b,{to:"/blog-details/".concat(n),class:"btn btn-primary",children:"Read Article"})]})]})})};n(64);var f=function(e){var t=e.data,n=e.RenderComponent,a=(e.title,e.pageLimit),s=e.dataLimit,i=Object(c.useState)(Math.round(t.length/s)),o=Object(r.a)(i,1)[0],l=Object(c.useState)(1),d=Object(r.a)(l,2),j=d[0],b=d[1];function u(e){var t=Number(e.target.textContent);b(t)}return Object(c.useEffect)((function(){window.scrollTo({behavior:"smooth",top:"0px"})}),[j]),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"dataContainer",children:function(){var e=j*s-s,n=e+s;return t.slice(e,n)}().map((function(e,t){return Object(g.jsx)(n,{data:e},t)}))}),Object(g.jsxs)("div",{className:"pagination",children:[Object(g.jsx)("button",{onClick:function(){b((function(e){return e-1}))},className:"prev ".concat(1===j?"disabled":""),children:"prev"}),function(){var e=Math.floor((j-1)/a)*a;return new Array(a).fill().map((function(t,n){return e+n+1}))}().map((function(e,t){return Object(g.jsx)("button",{onClick:u,className:"paginationItem ".concat(j===e?"active":null),children:Object(g.jsx)("span",{children:e})},t)})),Object(g.jsx)("button",{onClick:function(){b((function(e){return e+1}))},className:"next ".concat(j===o?"disabled":""),children:"next"})]})]})};n(65);var x=function(e){var t=Object(c.useState)([]),n=Object(r.a)(t,2),a=n[0],s=n[1];Object(c.useEffect)((function(){h.getAll().then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(o.f)();var i=Object(c.useState)({tag:""}),j=Object(r.a)(i,2),u=j[0],m=j[1];return Object(g.jsxs)("div",{class:"containerr",children:[Object(g.jsx)("div",{class:"sb-example-1",children:Object(g.jsx)("div",{className:"search",children:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("input",{type:"text",className:"searchTerm",name:"tag",value:u.tag,placeholder:"What are you looking for?",onChange:function(e){var t=e.target,n=t.name,c=t.value;m(Object(d.a)(Object(d.a)({},u),{},Object(l.a)({},n,c)))}}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{onClick:function(){var e=u.tag;e?(console.log(e),b.a.get("http://localhost:9002/searchtag/".concat(e)).then((function(e){s(e.data),console.log(e.data)}))):alert("invlid input")},children:"Search"})]})})}),Object(g.jsx)("div",{children:a.length>0?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(f,{data:a,RenderComponent:v,title:"Posts",pageLimit:5,dataLimit:7})}):Object(g.jsx)("h1",{children:"No Posts to display"})})]})};var y=function(){var e=JSON.parse(localStorage.getItem("MyUser"));return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"home",children:Object(g.jsxs)("div",{className:"front",children:[Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"main",children:["Article Avenue is a",Object(g.jsx)("br",{})," place to write, read, ",Object(g.jsx)("br",{}),"and learn"]}),Object(g.jsxs)("div",{className:"sub",children:["It's easy to post your knowledge on any topic and connect",Object(g.jsx)("br",{})," with millions of readers."]}),e&&e.name?Object(g.jsx)("div",{className:"write",children:Object(g.jsx)("button",{className:"button-home",children:Object(g.jsx)(m.b,{to:"blog-write",style:{color:"inherit"},children:"Start Writing"})})}):Object(g.jsx)("div",{})]}),Object(g.jsx)("div",{className:"image",children:Object(g.jsx)("img",{src:"images/home-image.png",alt:""})})]})}),Object(g.jsx)("div",{className:"line-home"}),Object(g.jsx)(x,{})]})},C=(n(66),n(23)),N=n(12),_=n(13),w=n(7),S=n(15),k=n(14),E=(n(67),n(68),function(e){Object(S.a)(n,e);var t=Object(k.a)(n);function n(e){var c;return Object(N.a)(this,n),(c=t.call(this,e)).state={characters:0},c._handleSubmit=c._handleSubmit.bind(Object(w.a)(c)),c._getCharacterCount=c._getCharacterCount.bind(Object(w.a)(c)),c}return Object(_.a)(n,[{key:"render",value:function(){var e=this;return Object(g.jsxs)("form",{className:"comment-form",onSubmit:this._handleSubmit,children:[Object(g.jsx)("label",{style:{color:"black"},children:"New comment"}),Object(g.jsxs)("div",{className:"comment-form-fields",children:[Object(g.jsx)("input",{placeholder:"Name:",ref:function(t){return e._author=t}}),Object(g.jsx)("textarea",{placeholder:"Comment:",ref:function(t){return e._body=t},onChange:this._getCharacterCount})]}),Object(g.jsxs)("p",{children:[this.state.characters," characters"]}),Object(g.jsx)("div",{className:"comment-form-actions",children:Object(g.jsx)("button",{type:"submit",children:"Post comment"})})]})}},{key:"_getCharacterCount",value:function(){this.setState({characters:this._body.value.length})}},{key:"_handleSubmit",value:function(e){e.preventDefault(),this.props.addComment(this._author.value,this._body.value),this._author.value="",this._body.value="",this.setState({characters:0})}}]),n}(a.a.Component)),L=(n(69),function(e){Object(S.a)(n,e);var t=Object(k.a)(n);function n(e){var c;return Object(N.a)(this,n),(c=t.call(this,e)).state={showConfirm:!1},c._confirmDelete=c._confirmDelete.bind(Object(w.a)(c)),c._toggleConfirmMessage=c._toggleConfirmMessage.bind(Object(w.a)(c)),c}return Object(_.a)(n,[{key:"render",value:function(){var e;return this.state.showConfirm?Object(g.jsxs)("span",{children:[Object(g.jsx)("a",{href:"",onClick:this._confirmDelete,children:"Yes "})," - or - ",Object(g.jsx)("a",{href:"",onClick:this._toggleConfirmMessage,children:" No"})]}):(e=Object(g.jsx)("a",{href:"",onClick:this._toggleConfirmMessage,children:this.props.children}),Object(g.jsx)("span",{children:e}))}},{key:"_toggleConfirmMessage",value:function(e){e.preventDefault(),this.setState({showConfirm:!this.state.showConfirm})}},{key:"_confirmDelete",value:function(e){e.preventDefault(),this.props.onDelete()}}]),n}(a.a.Component)),D=function(e){Object(S.a)(n,e);var t=Object(k.a)(n);function n(e){var c;return Object(N.a)(this,n),(c=t.call(this,e)).state={isAbusive:!1},c._handleConfirm=c._handleConfirm.bind(Object(w.a)(c)),c._toggleAbuse=c._toggleAbuse.bind(Object(w.a)(c)),c}return Object(_.a)(n,[{key:"render",value:function(){var e;return e=this.state.isAbusive?Object(g.jsx)("em",{children:"Content marked as abusive"}):this.props.body,Object(g.jsxs)("div",{className:"comment",children:[Object(g.jsx)("p",{className:"comment-header",children:this.props.author}),Object(g.jsx)("p",{className:"comment-body",children:e}),Object(g.jsxs)("div",{className:"comment-actions",children:[Object(g.jsx)(L,{onDelete:this._handleConfirm,children:"Delete Comment?"}),Object(g.jsx)(L,{onDelete:this._toggleAbuse,children:"Report as abuse"})]})]})}},{key:"_toggleAbuse",value:function(){this.setState({isAbusive:!this.state.isAbusive})}},{key:"_handleConfirm",value:function(){this.props.onDelete(this.props.id)}}]),n}(a.a.Component),M=function(e){Object(S.a)(n,e);var t=Object(k.a)(n);function n(e){var c;return Object(N.a)(this,n),(c=t.call(this,e)).state={showComments:!0,comments:[]},c._addComment=c._addComment.bind(Object(w.a)(c)),c._deleteComment=c._deleteComment.bind(Object(w.a)(c)),c._handleClick=c._handleClick.bind(Object(w.a)(c)),c}return Object(_.a)(n,[{key:"componentWillMount",value:function(){this._fetchComments()}},{key:"render",value:function(){var e,t=this._getComments(),n="Show comments";return this.state.showComments&&(n="Hide comments",e=Object(g.jsx)("div",{className:"comment-list",children:t})),Object(g.jsx)("div",{className:"row comments-container",children:Object(g.jsxs)("div",{className:"cell",children:[Object(g.jsx)("h2",{style:{fontSize:"35px"},children:"Join The Discussion"}),Object(g.jsxs)("div",{className:"comment-box",children:[Object(g.jsx)(E,{addComment:this._addComment}),this._getPopularMessage(t.length),Object(g.jsx)("h3",{className:"comment-count",children:this._getCommentsTitle(t.length)}),this._getCommentsVisibility(t.length,n),e]})]})})}},{key:"_getComments",value:function(){var e=this;return this.state.comments.map((function(t){return Object(c.createElement)(D,Object(d.a)(Object(d.a)({},t),{},{onDelete:e._deleteComment,key:t.id}))}))}},{key:"_addComment",value:function(e,t){var n={id:this.state.comments.length+1,author:e,body:t};this.setState({comments:[].concat(Object(C.a)(this.state.comments),[n])})}},{key:"_fetchComments",value:function(){var e=this;b.a.get(this.props.apiUrl).then((function(t){var n=t.data;e.setState({comments:n})}))}},{key:"_handleClick",value:function(e){e.preventDefault(),this.setState({showComments:!this.state.showComments})}},{key:"_deleteComment",value:function(e){var t=this.state.comments.filter((function(t){return t.id!==e}));this.setState({comments:t})}},{key:"_getPopularMessage",value:function(e){if(e>10)return Object(g.jsx)("div",{children:"This post is getting really popular, dont miss out!"})}},{key:"_getCommentsTitle",value:function(e){return 0===e?"No comments yet":1===e?"1 comment":"".concat(e," comments")}},{key:"_getCommentsVisibility",value:function(e,t){if(e)return Object(g.jsx)("div",{className:"comment-visibility-actions",children:Object(g.jsx)("button",{onClick:this._handleClick,children:t})})}}]),n}(a.a.Component),T=n(22);var A=function(e){var t,n=Object(o.g)(),a=(Object(T.b)(),Object(c.useState)({author:{name:""}})),s=Object(r.a)(a,2),i=s[0],l=s[1];return Object(c.useEffect)((function(){h.get(n.id).then((function(e){l(e.data[0])})).catch((function(e){console.log(e)}))}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"cell",children:Object(g.jsxs)("article",{className:"article",children:[Object(g.jsxs)("h1",{className:"article-title",children:[i.title," "]}),Object(g.jsx)("div",{className:"article-body",children:Object(g.jsx)("p",{children:i.description})}),Object(g.jsxs)("h5",{style:{paddingLeft:"20px",fontSize:"19px"},children:["Written by ",null===(t=i.author)||void 0===t?void 0:t.name]})]})}),Object(g.jsx)(M,{apiUrl:"blog/comments.json"})]})},R=(n(76),function(){var e=JSON.parse(localStorage.getItem("MyUser")),t=Object(o.f)(),n=Object(c.useState)({title:"",tag:"",description:"",author:null===e||void 0===e?void 0:e._id}),a=Object(r.a)(n,2),s=a[0],i=a[1],j=function(e){var t=e.target,n=t.name,c=t.value;console.log(e.target),i(Object(d.a)(Object(d.a)({},s),{},Object(l.a)({},n,c)))};return Object(g.jsx)("div",{className:"submit-form",children:Object(g.jsxs)("div",{style:{paddingLeft:"400px",paddingTop:"70px"},children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{className:"labels",htmlFor:"title",children:"Title"}),Object(g.jsx)("input",{style:{width:"500px"},type:"text",id:"title",className:"form-control",name:"title",value:s.title,onChange:j,required:!0})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{className:"labels",htmlFor:"tag",children:"Tag for the blog"}),Object(g.jsx)("input",{style:{width:"500px"},type:"text",id:"tag",className:"form-control",name:"tag",value:s.tag,onChange:j,required:!0})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{className:"labels",htmlFor:"description",children:"Description"}),Object(g.jsx)("textarea",{rows:"7",type:"textarea",style:{width:"500px",height:"300px"},className:"form-control",id:"description",name:"description",value:s.description,onChange:j,required:!0})]}),Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("input",{type:"hidden",id:"author",name:"author",value:e.name,onLoad:j})}),Object(g.jsx)("div",{className:"blog",style:{paddingBottom:"50px"},children:Object(g.jsx)("div",{className:"button",onClick:function(){var e=s.title,n=s.tag,c=s.description,a=s.author;console.log(a),e&&n&&c&&a?b.a.post("http://localhost:9002/write",s).then((function(e){t("/")})):alert("invlid input")},children:"Submit"})})]})})});n(77);var B=function(e){var t=e.updateUser,n=JSON.parse(localStorage.getItem("MyUser"));return Object(g.jsxs)("div",{children:[Object(g.jsxs)("header",{className:"wrapper",children:[Object(g.jsx)("div",{className:"left",children:Object(g.jsx)(m.b,{to:"/",children:Object(g.jsx)("img",{style:{marginLeft:"40px"},src:"images/logo.png",alt:""})})}),Object(g.jsx)("div",{className:"right",children:Object(g.jsx)("div",{children:n&&n.name?Object(g.jsxs)("div",{className:"items",children:[Object(g.jsx)("div",{className:"header-start",children:Object(g.jsx)("button",{style:{paddingBottom:"7px",paddingTop:"7px"},className:"button-start",children:Object(g.jsxs)(m.b,{to:"/write",style:{color:"inherit"},children:["Get Started, ",n.name]})})}),Object(g.jsx)("div",{style:{paddingLeft:"30px"},children:Object(g.jsx)("div",{className:"button",onClick:function(){return t({})},children:"Logout"})})]}):Object(g.jsxs)("div",{className:"items",children:[Object(g.jsx)("div",{className:"sign",children:Object(g.jsx)(m.b,{to:"signup",style:{color:"inherit"},children:"Sign in"})}),Object(g.jsx)("div",{className:"log",children:Object(g.jsx)(m.b,{to:"signin",style:{color:"inherit"},children:"Log in"})})]})})})]}),Object(g.jsx)("div",{className:"line"})]})},I=(n(78),function(){var e=Object(o.f)(),t=Object(c.useState)({name:"",email:"",password:"",reEnterPassword:""}),n=Object(r.a)(t,2),a=n[0],s=n[1],i=function(e){var t=e.target,n=t.name,c=t.value;s(Object(d.a)(Object(d.a)({},a),{},Object(l.a)({},n,c)))};return Object(g.jsxs)("div",{className:"register",children:[Object(g.jsx)("h1",{children:"Register"}),Object(g.jsx)("input",{type:"text",name:"name",value:a.name,placeholder:"Your Name",onChange:i}),Object(g.jsx)("input",{type:"text",name:"email",value:a.email,placeholder:"Your Email",onChange:i}),Object(g.jsx)("input",{type:"password",name:"password",value:a.password,placeholder:"Your Password",onChange:i}),Object(g.jsx)("input",{type:"password",name:"reEnterPassword",value:a.reEnterPassword,placeholder:"Re-enter Password",onChange:i}),Object(g.jsx)("div",{className:"buttonn",onClick:function(){var t=a.name,n=a.email,c=a.password,s=a.reEnterPassword;t&&n&&c&&c===s?b.a.post("http://localhost:9002/register",a).then((function(t){e("/signin")})):alert("invlid input")},children:"Register"}),Object(g.jsx)("div",{children:"or"}),Object(g.jsx)("div",{className:"buttonn",onClick:function(){return e("/signin")},children:"Login"})]})}),P=(n(79),function(e){var t=e.updateUser,n=Object(o.f)(),a=Object(c.useState)({email:"",password:""}),s=Object(r.a)(a,2),i=s[0],j=s[1],u=Object(c.useState)(""),h=Object(r.a)(u,2),m=h[0],O=h[1],p=function(e){var t=e.target,n=t.name,c=t.value;j(Object(d.a)(Object(d.a)({},i),{},Object(l.a)({},n,c)))};return Object(g.jsxs)("div",{className:"login",children:[m&&Object(g.jsxs)("p",{className:"error",children:[" ",m," "]}),Object(g.jsx)("h1",{children:"Login"}),Object(g.jsx)("input",{type:"text",name:"email",value:i.email,onChange:p,placeholder:"Enter your Email"}),Object(g.jsx)("input",{type:"password",name:"password",value:i.password,onChange:p,placeholder:"Enter your Password"}),Object(g.jsx)("div",{className:"buton",onClick:function(){b.a.post("http://localhost:9002/login",i).then((function(e){console.log(e),t(e.data.user),n("/")})).catch((function(e){O(e.response.data.message),console.log(e.response.data.message)}))},children:"Login"}),Object(g.jsx)("div",{children:"or"}),Object(g.jsx)("div",{className:"buton",onClick:function(){return n("/signup")},children:"Register"})]})});n(80);var U=function(){var e=Object(c.useState)({}),t=Object(r.a)(e,2),n=(t[0],t[1]);Object(c.useEffect)((function(){n(JSON.parse(localStorage.getItem("MyUser")))}),[]);var a=function(e){console.log(e),localStorage.setItem("MyUser",JSON.stringify(e)),n(e)};return Object(g.jsxs)("div",{children:[Object(g.jsx)(B,{updateUser:a}),Object(g.jsxs)(o.c,{children:[Object(g.jsx)(o.a,{path:"/",element:Object(g.jsx)(y,{})}),Object(g.jsx)(o.a,{path:"blog-details/:id",element:Object(g.jsx)(A,{})}),Object(g.jsx)(o.a,{path:"blog-write",element:Object(g.jsx)(R,{})}),Object(g.jsx)(o.a,{path:"signup",element:Object(g.jsx)(I,{})}),Object(g.jsx)(o.a,{path:"signin",element:Object(g.jsx)(P,{updateUser:a})})]})]})},J=n(17),Y=n(36),G=n(37),W="CREATE_BLOG",F="RETRIEVE_BLOGS",V="UPDATE_BLOG",q="DELETE_BLOG",z="DELETE_ALL_BLOGS",H="RETRIEVE_BLOGS_BY_ID",K="RETRIEVE_BLOGS_BY_TAG",Q=[];var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case W:return[].concat(Object(C.a)(e),[c]);case F:case H:case K:return c;case V:return e.map((function(e){return e.id===c.id?Object(d.a)(Object(d.a)({},e),c):e}));case q:return e.filter((function(e){return e.id!==c.id}));case z:return[];default:return e}},Z=Object(J.combineReducers)({blog:X}),$=[G.a],ee=function(){try{var e=window.localStorage.getItem("app_state");if(!e)return;return JSON.parse(e)}catch(t){return}}(),te=Object(J.createStore)(Z,ee,Object(Y.composeWithDevTools)(J.applyMiddleware.apply(void 0,$)));te.subscribe((function(){!function(e){try{var t=JSON.stringify(e);window.localStorage.setItem("app_state",t)}catch(n){}}(te.getState())}));var ne=te;i.a.render(Object(g.jsx)(T.a,{store:ne,children:Object(g.jsx)(m.a,{children:Object(g.jsx)(U,{})})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.1694b1e8.chunk.js.map